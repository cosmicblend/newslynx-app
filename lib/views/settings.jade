extends layout

block drawer
	.division-title Settings
	.division-description Here you can change your account settings to track new Twitter or Facebook accounts or alert your Google Authentication

block templates
	script(type="text/jst")#settings-templ
		#settings
			.settings-group
				.settings-title Site
				.setting-group
					.setting-title Home page
					ul.inputs-container
						li.input
							|<input type="text" placeholder="propalpatine.org" value="<%= homepage %>">
				.setting-group
					.setting-description Does your site publish an RSS feed of all its articles?
					.setting-flag Includes full article text?
					.setting-title URLs
					ul.inputs-container(data-placeholder="propalpatine.org" data-flag="checkbox")
						<%  for (var i = 0; i < rss_feeds.length; i++) { %>
						li.input.multi
							.multi-child.destroy &times;
							|<input type="text" placeholder="propalpatine.org" value="<%= rss_feeds[i].url %>" class="multi-child" />
							|<input type="checkbox" <% ((rss_feeds[i].full_text === true) ? print('checked') : '') %> />
						<% } %>
					button.add Add
			.settings-group
				.settings-title Social
				.setting-group
					.setting-description If you use a custom URL shortener, what do your links look like on twitter. Please omit a trailing slash.
					.setting-title Short URL
					ul.inputs-container(data-placeholder="propalp.tn" )
						<%  for (var i = 0; i < short_urls.length; i++) { %>
						li.input.multi
							.multi-child.destroy &times;
							|<input type="text" placeholder="propalp.tn" value="<%= short_urls[i].url %>" class="multi-child" />
						<% } %>
					button.add Add
				.setting-group
					.setting-description If you want to track how your articles are shared among staff, create a Twitter list of their accounts and add the Twitter account name who owns the list and the list â€œslug.
					.setting-title Staff lists
					ul.inputs-container(data-layout="double" data-placeholder='["ProPalpatine","staff"]')
						<%  for (var i = 0; i < twitter_staff_list.length; i++) { %>
						li.input.multi
							.multi-child.destroy &times;
							|<input type="text" placeholder="ProPalpatine" value="<%= twitter_staff_list[i].owner %>" class="multi-child double" />
							|<input type="text" placeholder="staff" value="<%= twitter_staff_list[i].slug %>" class="multi-child double" />
						<% } %>
					button.add Add

	//- script(type="text/jst")#settings-group-templ
	//- 	.settings-group
	//- 		.settings-title <%= settings_title %>

	//- script(type="text/jst")#setting-group-templ
	//- 	.setting-group
	//- 		<% (description) ? print('<div class="setting-description">'+description+'</div>' : '') %>
	//- 		<% (flag) ? print('<div class="setting-flag">'+flag+'</div>' : '') %>
	//- 		.setting-title <%= setting_title %>
	//- 		|<ul class="inputs-container" <% (multi === true) ? print('data-placeholder="'+placeholder+'"' : '') %> <% (flag === true) ? print('data-flag="'+flag+'"' : '') %> ></ul>

	//- script(type="text/jst")#single-input-templ
	//- 	ul.inputs-container
	//- 		li.input
	//- 			|<input type="text" placeholder="<%= placeholder %>" value="<% (val) ? print(val) : '' %>">

	script(type="text/jst")#multi-input-templ
		li.input.multi
			.multi-child.destroy &times;
			|<input type="text" placeholder="<%= placeholder %>" class="multi-child" />
			<% (flag) ? print('<input type="'+flag+'"/>') : '' %>

	script(type="text/jst")#multi-input-double-templ
		li.input.multi
			.multi-child.destroy &times;
			|<input type="text" placeholder="<%= placeholder0 %>" class="multi-child double" />
			|<input type="text" placeholder="<%= placeholder1 %>" class="multi-child double" />
			<% (flag) ? print('<input type="'+flag+'"/>') : '' %>

block bootstrap-data
	script(id="page-data").
		var pageData = {};
		pageData.org =!{org};
		//- pageData.settingsSchema =!{settingsSchema};

block scripts
	script(src="javascripts/thirdparty/jquery-1.11.0.min.js")
	script(src="javascripts/thirdparty/underscore-min.js")
	script(src="javascripts/thirdparty/backbone-min.js")
	script(src="javascripts/main.js")